<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
  <script>
  // 1 ~ 100 사이의 랜덤한 숫자하나가 정답으로 주어진다.
  // 사용자는 이 사이의 숫자를 입력할 수 있어야 한다.
  // 시스템은 입력한 숫자를 판단하여 up인지 down인지 알려줘야 한다.
  // 만약 정답을 맞추지 못하면 지속해서 입력을 받고 결과를 알려준다.
  // 정답을 맞추면 맞췄다는 메시지와 함께 프로그램을 종료한다.

  // 사용자들은 입력 기회가 5번으로 제한된다.
  // 즉, 5번 안에 정답을 맞추지 못할 경우 게임이 강제종료된다.

  // 사용자는 게임 시작전에 난이도를 설정할 수 있다.
  // 난이도는 상, 중, 하 난이도가 존재하며
  // 난이도별 입력 횟수제한이 다르다.

  
  
  while(true){
    var level = +prompt('난이도를 선택하세요.\n# 1: 상(3번의 기회) | 2: 중(6번의 기회) | 3: 하(10번의 기회)');
    var oppo; // 기회
    if (level === 1) {
      initOppo = 3;
      break;
    } else if (level === 2) {
      initOppo = 6;
      break;
    } else if (level === 3) {
      initOppo = 10;
      break;
    } else {
      alert('올바른 번호를 선택해주세요');
    }
  }

  answer = Math.floor(100 * Math.random()) + 1;

  var oppo = initOppo;
  var min = 1;
  var max = 100;

  while(true) {
    var userAnswer = +prompt(`${min} ~ ${max}에서 숫자를 하나 선택하세요.`);
    if(userAnswer > max || userAnswer < min) {
      alert('범위 안의 숫자를 입력하세요');
      continue;
    }

    if(userAnswer > answer) {
      alert('down!');
      max = userAnswer - 1;
    }
    else if (userAnswer < answer) {
      alert('up!');
      min = userAnswer + 1;
    }
    else {
      alert(`정답입니다! ${initOppo - oppo}번만에 맞추셨네요~`); 
      break; // 게임 종료 조건 1 : 맞춘 경우
    }
    
    oppo--;
    alert(`입력 숫자 : ${userAnswer} | 남은 기회: ${oppo}회`);

    if(oppo === 0) {
      alert('틀리셨습니다.');
      alert(`정답은 ${answer}이었습니다.`);  
      break;  // 게임 종료 조건 2 : 목숨을 다 쓸 때까지 못맞췄을 때
    }
  }

  alert('수고하셨습니다!');


  </script>

</body>
</html>