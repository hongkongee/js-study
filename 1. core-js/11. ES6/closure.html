<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>

  <script>

    /*
    let count = 0; // global variable
    
    // count를 증가시키는 함수
    const increase = () => ++count;

    console.log(increase());
    console.log(increase());
    count = 999;
    console.log(increase()); // 1000

    값 유지는 가능하지만 전역 변수의 특성상 어느 영역에서나 접근이 가능하기
    때문에 값 변경의 가능성이 항상 존재
    */

    /*
    const increase = () => {
      let count = 0; // local variable
      return ++count;
    }

    console.log(increase());
    console.log(increase());
    count = 999;
    console.log(increase()); // 1

    함수 호출이 종료되면 소멸하는 지역 변수의 특성 때문에
    값 유지를 할 수가 없다.
    */

   // count 를 증가시키는 함수를 리턴하는 closure 생성

   /*
   const increaseClosure = () => {
    let count = 0;
    // return function() {
    //   return ++count;
    // }
    return () => ++count;
   }

   const increase = increaseClosure();
   console.log(increase());
   console.log(increase());
   count = 999;
   console.log(increase()); // 3
   */



  //  즉시 실행 함수: 1회성 호출 함수를 만들 때 주로 사용.
   const increase = (() => {
    let count = 0;
    return () => ++count;
   })();

   console.log(increase());
   console.log(increase());
   console.log(increase());

  </script>

</body>

</html>